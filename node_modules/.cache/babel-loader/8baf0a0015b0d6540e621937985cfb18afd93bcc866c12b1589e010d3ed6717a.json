{"ast":null,"code":"var _jsxFileName = \"/Users/nx___n/Documents/dental-clinic-management/frontend/src/components/ProtectedRoute.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  user,\n  role,\n  children,\n  loadingUser\n}) => {\n  if (loadingUser) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3,\n      columnNumber: 14\n    }, this); // รอโหลด user ก่อน\n  }\n  console.log('ProtectedRoute checked, user:', user, 'required role:', role);\n  if (!user) {\n    console.log('Access denied, no user logged in');\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 14\n    }, this);\n  }\n  if (role && user.role !== role) {\n    console.log('Access denied, wrong role');\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 14\n    }, this);\n  }\n  return children;\n};\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["ProtectedRoute","user","role","children","loadingUser","_jsxDEV","fileName","_jsxFileName","lineNumber","columnNumber","console","log","Navigate","to","replace","_c","$RefreshReg$"],"sources":["/Users/nx___n/Documents/dental-clinic-management/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["const ProtectedRoute = ({ user, role, children, loadingUser }) => {\n    if (loadingUser) {\n      return <p>Loading...</p>; // รอโหลด user ก่อน\n    }\n  \n    console.log('ProtectedRoute checked, user:', user, 'required role:', role);\n  \n    if (!user) {\n      console.log('Access denied, no user logged in');\n      return <Navigate to=\"/login\" replace />;\n    }\n  \n    if (role && user.role !== role) {\n      console.log('Access denied, wrong role');\n      return <Navigate to=\"/\" replace />;\n    }\n  \n    return children;\n  };\n  \n  export default ProtectedRoute;"],"mappings":";;AAAA,MAAMA,cAAc,GAAGA,CAAC;EAAEC,IAAI;EAAEC,IAAI;EAAEC,QAAQ;EAAEC;AAAY,CAAC,KAAK;EAC9D,IAAIA,WAAW,EAAE;IACf,oBAAOC,OAAA;MAAAF,QAAA,EAAG;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,CAAC,CAAC;EAC5B;EAEAC,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEV,IAAI,EAAE,gBAAgB,EAAEC,IAAI,CAAC;EAE1E,IAAI,CAACD,IAAI,EAAE;IACTS,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;IAC/C,oBAAON,OAAA,CAACO,QAAQ;MAACC,EAAE,EAAC,QAAQ;MAACC,OAAO;IAAA;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACzC;EAEA,IAAIP,IAAI,IAAID,IAAI,CAACC,IAAI,KAAKA,IAAI,EAAE;IAC9BQ,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;IACxC,oBAAON,OAAA,CAACO,QAAQ;MAACC,EAAE,EAAC,GAAG;MAACC,OAAO;IAAA;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpC;EAEA,OAAON,QAAQ;AACjB,CAAC;AAACY,EAAA,GAlBEf,cAAc;AAoBlB,eAAeA,cAAc;AAAC,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}