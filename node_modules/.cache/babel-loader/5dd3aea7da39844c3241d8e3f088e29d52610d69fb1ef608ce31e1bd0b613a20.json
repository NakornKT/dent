{"ast":null,"code":"var _jsxFileName = \"/Users/nx___n/Documents/dental-clinic-management/frontend/src/components/Report.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Report({\n  user\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [viewType, setViewType] = useState('self'); // self, all, specific\n  const [doctorUsername, setDoctorUsername] = useState(user.username);\n  const [records, setRecords] = useState([]);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    let url = 'http://localhost:5000/api/reports';\n    if (user.role === 'doctor') {\n      url += `?username=${user.username}&role=doctor`;\n    } else if (user.role === 'staff') {\n      url += `?role=staff`;\n    } else if (user.role === 'admin') {\n      url += `?role=admin`;\n    }\n    fetch(url).then(res => res.json()).then(data => setRecords(data)).catch(err => setError('Failed to fetch reports'));\n  }, [user.role, user.username]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-100 via-white to-blue-200 p-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-gray-800 text-center mb-6\",\n      children: \"Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4 text-center\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this), user.role === 'staff' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-sm font-medium text-gray-700 mb-2\",\n        children: \"View Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: viewType,\n        onChange: e => setViewType(e.target.value),\n        className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"all\",\n          children: \"All Doctors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"specific\",\n          children: \"Specific Doctor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), viewType === 'specific' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: doctorUsername,\n        onChange: e => setDoctorUsername(e.target.value),\n        className: \"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 mt-2\",\n        placeholder: \"Enter doctor username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), records.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-4\",\n      children: records.map(record => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"bg-white p-4 rounded-lg shadow-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Patient ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 18\n          }, this), \" \", record.patientId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 18\n          }, this), \" \", record.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Procedures:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 18\n          }, this), \" \", record.procedures]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Cost:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 18\n          }, this), \" \", record.cost, \" THB\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 18\n          }, this), \" \", record.paymentStatus]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Doctor:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 18\n          }, this), \" \", record.doctor.fullName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Recorded at:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 18\n          }, this), \" \", new Date(record.recordedAt).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this)]\n      }, record.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No records found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(Report, \"qhK1acU9xw9O3HCP/WeSNX2R7+g=\", false, function () {\n  return [useNavigate];\n});\n_c = Report;\nexport default Report;\nvar _c;\n$RefreshReg$(_c, \"Report\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","Report","user","_s","navigate","viewType","setViewType","doctorUsername","setDoctorUsername","username","records","setRecords","error","setError","url","role","fetch","then","res","json","data","catch","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","type","placeholder","length","map","record","patientId","description","procedures","cost","paymentStatus","doctor","fullName","Date","recordedAt","toLocaleString","id","_c","$RefreshReg$"],"sources":["/Users/nx___n/Documents/dental-clinic-management/frontend/src/components/Report.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Report({ user }) {\n  const navigate = useNavigate();\n  const [viewType, setViewType] = useState('self'); // self, all, specific\n  const [doctorUsername, setDoctorUsername] = useState(user.username);\n  const [records, setRecords] = useState([]);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    let url = 'http://localhost:5000/api/reports';\n    if (user.role === 'doctor') {\n      url += `?username=${user.username}&role=doctor`;\n    } else if (user.role === 'staff') {\n      url += `?role=staff`;\n    } else if (user.role === 'admin') {\n      url += `?role=admin`;\n    }\n    fetch(url)\n      .then(res => res.json())\n      .then(data => setRecords(data))\n      .catch(err => setError('Failed to fetch reports'));\n  }, [user.role, user.username]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-100 via-white to-blue-200 p-8\">\n      <h2 className=\"text-3xl font-bold text-gray-800 text-center mb-6\">Reports</h2>\n      \n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded mb-4 text-center\">\n          {error}\n        </div>\n      )}\n\n      {user.role === 'staff' && (\n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">View Type</label>\n          <select\n            value={viewType}\n            onChange={(e) => setViewType(e.target.value)}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200\"\n          >\n            <option value=\"all\">All Doctors</option>\n            <option value=\"specific\">Specific Doctor</option>\n          </select>\n          {viewType === 'specific' && (\n            <input\n              type=\"text\"\n              value={doctorUsername}\n              onChange={(e) => setDoctorUsername(e.target.value)}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 mt-2\"\n              placeholder=\"Enter doctor username\"\n            />\n          )}\n        </div>\n      )}\n\n      {records.length > 0 ? (\n        <ul className=\"space-y-4\">\n          {records.map((record) => (\n            <li key={record.id} className=\"bg-white p-4 rounded-lg shadow-md\">\n              <p><strong>Patient ID:</strong> {record.patientId}</p>\n              <p><strong>Description:</strong> {record.description}</p>\n              <p><strong>Procedures:</strong> {record.procedures}</p>\n              <p><strong>Cost:</strong> {record.cost} THB</p>\n              <p><strong>Status:</strong> {record.paymentStatus}</p>\n              <p><strong>Doctor:</strong> {record.doctor.fullName}</p>\n              <p><strong>Recorded at:</strong> {new Date(record.recordedAt).toLocaleString()}</p>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>No records found.</p>\n      )}\n    </div>\n  );\n}\n\nexport default Report;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}